[agent]
hostname = "telegraf"
interval = "1s"
flush_interval = "10s"

# HTTP Listener to listen from RouterOS
[[inputs.http_listener_v2]]
  service_address = ":8080"
  path = "/router"
  methods = ["POST"]
  data_format = "json"
  json_string_fields = ["deviceName", "deviceUpTime"]

# Output Plugin InfluxDB
[[outputs.influxdb]]
  urls = ["http://influxdb:8086"]
  database = "dbtelegraf"
  skip_database_creation = true
  username = "adminuser"
  password = "adminpass"
